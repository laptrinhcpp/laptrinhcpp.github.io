<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../../css/reset.css">
    <title>2.x Tổng kết chương 2</title>
    <link rel="stylesheet" href="../../../css/substyle.css">
    <link rel="shortcut icon" href="../../../img/circle-logo.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="../../../js/showhide.js"></script>
</head>

<body>
    <div class="title">
        <h1>2.x Tổng kết chương 2</h1>
    </div>

    <div class="content">

        <p>Hàm (function) là một tập hợp các câu lệnh để làm một công việc nhất định nào đó, và có thể tái sử dụng nó một cách dễ dàng.</p>
        <p>Phần bên trong dấu ngoặc nhọn {} của hàm được gọi là thân hàm (function body) chứa các câu lệnh của hàm.</p>
        <p>Hàm được chia làm hai loại: hàm có trả về và hàm không có trả về. Hàm có trả về có kiểu trả về (return type) là kiểu dữ liệu của giá trị trả về (return value). Giá trị trả về được trả về nhờ vào câu lệnh trả về (return statement). Quá trình này được gọi là return by value. Hàm không có trả về có kiểu void.</p>
        <p>Giá trị trả về của hàm main được gọi là status code. Nó báo cho hệ thống biết chương trình có chạy thành công hay không. Hàm main sẽ trả về giá trị 0 nếu chạy thành công, và trả về một giá trị dương khác 0 nếu chạy thất bại.</p>
        <p>Tham số hàm là biến được định nghĩa trong dấu () của hàm, những biến này sẽ được nhận giá trị từ bên ngoài vào hàm. Đối số hàm là giá trị được đưa từ bên ngoài hàm vào trong hàm thông qua tham số. Quá trình giá trị của đối số được copy vào tham số hàm được gọi là truyền giá trị (pass by value).</p>
        <p>Các tham số và biến được tạo ra bên trong hàm thì được gọi là biến cục bộ (local variable). Các biến được tạo ra và bị hủy ở runtime, tức là trong lúc chương trình chạy. Scope của một biến là khoảng không gian mà biến có thể sử dụng được, hay nói cách khác là từ vị trí biến được tạo ra đến vị trí biến bị hủy.</p>
        <p>Forward declaration cho phép trình biên dịch sử dụng một hàm trước khi định nghĩa nó. Để tạo forward declaration, ta dùng đến hàm prototype (prototype function), nó bao gồm kiểu trả về, tên hàm, kiểu tham số hàm và không có thân hàm. Cuối forward declaration phải có dấu chấm phẩy.</p>
        <p>Khai báo (declaration) mang ý nghĩa báo cho trình biên dịch biết có sự tồn tại của một hàm, đối tượng nào đó với một vài thuộc tính cho trước. Định nghĩa (definition) bao gồm cả khai báo và chi tiết hơn khai báo. Mọi định nghĩa đều là khai báo, nhưng khai báo chưa chắc là định nghĩa, khai báo đó gọi là pure declaration (ví dụ forward declaration).</p>
        <p>Khi trong một chương trình xuất hiện hai hay nhiều tên hàm, đối tượng giống nhau thì sẽ xảy ra lỗi naming collision. Namespace là một cách để giải quyết vấn đề naming collision, các hàm, đối tượng khác namespace có thể được đặt tên giống nhau mà không bị lỗi. std namespace là namespace tiêu chuẩn của C++.</p>
        <p>Tiền xử lý là một quá trình diễn ra trước khi biên dịch. Tiền xử lý hoạt động nhờ vào các chỉ thị. Các chỉ thị tiền xử lý này bắt đầu bằng dấu #, một số chỉ thị tiền xử lý như: #include, #define, #ifdef, #ifndef, #endif,...</p>
        <p>Header file là những file chủ yếu chứa các khai báo của hàm. Nó được thêm vào file nhờ chỉ thị #include; khi dùng chỉ thị #include, chỉ thị #include sẽ được tiền xử lý thay thế bằng nội dung trong header file. Dùng dấu bé lớn (< >) khi include header của hệ thống, và dùng dấu nháy kép (" ") khi include header tự tạo. Nếu include header của hệ thống, hãy dùng header file không có đuôi .h (nếu có thể) vì các file có đuôi .h là header file cũ.</p>
        <p>Header guard có nhiệm vụ ngăn nội dung của header file bị include nhiều lần trong MỘT FILE, tránh lỗi trùng định nghĩa. Mình xin nhấn mạnh là trong MỘT FILE, chứ không phải trong một chương trình.</p>
        <h3 class="muc">Bài tập</h3>
        <p>Bài 1: Viết một chương trình (chỉ gồm một file main.cpp) nhận hai giá trị nguyên từ người dùng, cộng chúng lại với nhau và in ra kết quả trên màn hình. Chương trình sử dụng ba hàm sau:</p>
        <ul>
            <li>Một hàm tên readNumber có nhiệm vụ lấy giá trị từ người dùng và trả về giá trị đó.</li>
            <li>Một hàm tên writeAnswer có nhiệm vụ nhận giá trị kết quả bằng tham số, sau đó in nó ra màn hình.</li>
            <li>Và tất nhiên, một hàm main.</li>
        </ul>
        <p>Output có mẫu như sau:</p>
        <div class="codeblock"><pre><code>Enter a number: 1
Enter a number: 2
The answer is 3</code></pre></div>
        <div id="hint1" style="display: none;">
            <p>Bạn không cần tạo một hàm riêng để thực hiện công việc cộng hai số.</p>
        </div>
        <div id="hint2" style="display: none;">
            <p>Bạn cần gọi hàm readNumber hai lần.</p>
        </div>
        <button class="showhidebtn" onclick="showHide('#hint1')">Gợi ý 1</button>
        <button class="showhidebtn" onclick="showHide('#hint2')">Gợi ý 2</button>
        <div id="answer1" style="display: none;">
            <p>main.cpp:</p>
            <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border-radius:10px;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #0000ff">#include &lt;iostream&gt;</span>
 
<span style="color: #2b91af">int</span> readNumber()
{
    std::cout &lt;&lt; <span style="color: #a31515">&quot;Enter a number: &quot;</span>;
    <span style="color: #2b91af">int</span> x {};
    std::cin &gt;&gt; x;
    <span style="color: #0000ff">return</span> x;
}
 
<span style="color: #2b91af">void</span> writeAnswer(<span style="color: #2b91af">int</span> x)
{
    std::cout &lt;&lt; <span style="color: #a31515">&quot;The answer is &quot;</span> &lt;&lt; x &lt;&lt; <span style="color: #a31515">&#39;\n&#39;</span>;
}
 
<span style="color: #2b91af">int</span> main()
{
    <span style="color: #2b91af">int</span> x { readNumber() };
    <span style="color: #2b91af">int</span> y { readNumber() };
    writeAnswer(x + y);
    <span style="color: #0000ff">return</span> 0;
}
</pre></td></tr></table></div>

        </div>
        <br>
        <button class="showhidebtn" onclick="showHide('#answer1')">Show/Hide</button>
        <p>Bài 2: Tách hai hàm readNumber và writeAnswer ở bài 1 và cho vào một file khác tên io.cpp, sử dụng forward declaration để có thể dùng hai hàm này trong main.cpp. Lưu ý file này phải nằm cùng project với main.cpp.</p>
        <div id="answer2" style="display: none;">
            <p>io.cpp:</p>
            <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border-radius:10px;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #0000ff">#include &lt;iostream&gt;</span>
 
<span style="color: #2b91af">int</span> readNumber()
{
    std::cout &lt;&lt; <span style="color: #a31515">&quot;Enter a number: &quot;</span>;
    <span style="color: #2b91af">int</span> x {};
    std::cin &gt;&gt; x;
    <span style="color: #0000ff">return</span> x;
}
 
<span style="color: #2b91af">void</span> writeAnswer(<span style="color: #2b91af">int</span> x)
{
    std::cout &lt;&lt; <span style="color: #a31515">&quot;The answer is &quot;</span> &lt;&lt; x &lt;&lt; <span style="color: #a31515">&#39;\n&#39;</span>;
}
</pre></td></tr></table></div>

        <p>main.cpp:</p>
        <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border-radius:10px;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #2b91af">int</span> readNumber();
<span style="color: #2b91af">void</span> writeAnswer(<span style="color: #2b91af">int</span> x);
 
<span style="color: #2b91af">int</span> main()
{
    <span style="color: #2b91af">int</span> x { readNumber() };
    <span style="color: #2b91af">int</span> y { readNumber() };
    writeAnswer(x+y);
    <span style="color: #0000ff">return</span> 0;
}
</pre></td></tr></table></div>

        <p class="luu-y">Lưu ý: Trong file main.cpp không dùng đến bất kì hàm nào trong iostream nên không cần <i>#include &lt;iostream&gt;</i>. Chắc chắn sẽ có nhiều bạn include cả iostream vào main.cpp, nếu bạn đã làm vậy thì mình thật sự rất buồn đó, bạn hãy quay lại bài viết về iostream ở chương 1 để hiểu nó là gì, lúc nào thì nên include nó nhé.</p>
        </div>
        <button class="showhidebtn" onclick="showHide('#answer2')">Show/Hide</button>
        <p>Bài 3: Biến đổi chương trình ở bài 2 để ta có thể sử dụng header file. Header file đặt tên là io.h và hãy dùng header guard trong đó.</p>
        <div id="answer3" style="display: none;">
            <p>io.h:</p>
            <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border-radius:10px;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">1
2
3
4
5
6
7</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #0000ff">#ifndef IO_H</span>
<span style="color: #0000ff">#define IO_H</span>
 
<span style="color: #2b91af">int</span> readNumber();
<span style="color: #2b91af">void</span> writeAnswer(<span style="color: #2b91af">int</span> x);
 
<span style="color: #0000ff">#endif</span>
</pre></td></tr></table></div>

        <p>io.cpp:</p>
        <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border-radius:10px;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #0000ff">#include &quot;io.h&quot;</span>
<span style="color: #0000ff">#include &lt;iostream&gt;</span>
 
<span style="color: #2b91af">int</span> readNumber()
{
    std::cout &lt;&lt; <span style="color: #a31515">&quot;Enter a number: &quot;</span>;
    <span style="color: #2b91af">int</span> x {};
    std::cin &gt;&gt; x;
    <span style="color: #0000ff">return</span> x;
}
 
<span style="color: #2b91af">void</span> writeAnswer(<span style="color: #2b91af">int</span> x)
{
    std::cout &lt;&lt; <span style="color: #a31515">&quot;The answer is &quot;</span> &lt;&lt; x &lt;&lt; <span style="color: #a31515">&#39;\n&#39;</span>;
}
</pre></td></tr></table></div>

        <p>main.cpp:</p>
        <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border-radius:10px;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">1
2
3
4
5
6
7
8
9</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #0000ff">#include &quot;io.h&quot;</span>
 
<span style="color: #2b91af">int</span> main()
{
    <span style="color: #2b91af">int</span> x { readNumber() };
    <span style="color: #2b91af">int</span> y { readNumber() };
    writeAnswer(x+y);
    <span style="color: #0000ff">return</span> 0;
}
</pre></td></tr></table></div>

        </div>
        <button class="showhidebtn" onclick="showHide('#answer3')">Show/Hide</button>

        <div>
            <a href="#"><button class="btn">Bài tiếp theo</button></a>
        </div>
        <div>
            <a href="../../index.html"><button class="btn">C++ Index</button></a>
        </div>
        <div>
            <a href="../2-10-header-guards/index.html"><button class="btn">Bài trước</button></a>
        </div>

    </div>
</body>

</html>